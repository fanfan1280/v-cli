webpackJsonp([6],{JDGc:function(t,n,o){var e=o("vcha");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=o("urRS").default;i("1ff492cf",e,!1,{})},YNG0:function(t,n,o){"use strict";function e(t){g||o("wl2m")}function i(t){B||o("JDGc")}Object.defineProperty(n,"__esModule",{value:!0});var a=o("ZLEe"),s=o.n(a),p=o("hRKE"),r=o.n(p),u=o("pbal"),l="object"===("undefined"==typeof window?"undefined":r()(window));l&&(window.__$vuxPopups=window.__$vuxPopups||{});var h=function(t){var n=this;if(l){this.uuid=Math.random().toString(36).substring(3,8),this.params={},"[object Object]"===Object.prototype.toString.call(t)&&(this.params={hideOnBlur:t.hideOnBlur,onOpen:t.onOpen||function(){},onClose:t.onClose||function(){},showMask:t.showMask}),!!document.querySelectorAll(".vux-popup-mask").length<=0&&(this.divMask=document.createElement("a"),this.divMask.className="vux-popup-mask",this.divMask.dataset.uuid="",this.divMask.href="javascript:void(0)",document.body.appendChild(this.divMask));var o=void 0;o=t.container?t.container:document.createElement("div"),o.className+=" vux-popup-dialog vux-popup-dialog-"+this.uuid,this.params.hideOnBlur||(o.className+=" vux-popup-mask-disabled"),this.div=o,t.container||document.body.appendChild(o),this.container=document.querySelector(".vux-popup-dialog-"+this.uuid),this.mask=document.querySelector(".vux-popup-mask"),this.mask.dataset.uuid+=","+this.uuid,this._bindEvents(),t=null,this.containerHandler=function(){n.mask&&!/show/.test(n.mask.className)&&setTimeout(function(){!/show/.test(n.mask.className)&&(n.mask.style.zIndex=-1)},200)},this.container&&this.container.addEventListener("webkitTransitionEnd",this.containerHandler),this.container&&this.container.addEventListener("transitionend",this.containerHandler)}};h.prototype.onClickMask=function(){this.params.hideOnBlur&&this.params.onClose()},h.prototype._bindEvents=function(){this.params.hideOnBlur&&(this.mask.addEventListener("click",this.onClickMask.bind(this),!1),this.mask.addEventListener("touchmove",function(t){return t.preventDefault()},!!u&&{passive:!1}))},h.prototype.show=function(){this.params.showMask&&(this.mask.classList.add("vux-popup-show"),this.mask.style.zIndex=500),this.container.classList.add("vux-popup-show"),this.params.onOpen&&this.params.onOpen(this),l&&(window.__$vuxPopups[this.uuid]=1)},h.prototype.hide=function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.container.classList.remove("vux-popup-show"),document.querySelector(".vux-popup-dialog.vux-popup-show")||(this.mask.classList.remove("vux-popup-show"),setTimeout(function(){t.mask&&!/show/.test(t.mask.className)&&(t.mask.style.zIndex=-1)},400)),!1===n&&this.params.onClose&&this.params.hideOnBlur&&this.params.onClose(this),this.isShow=!1,l&&delete window.__$vuxPopups[this.uuid]},h.prototype.destroy=function(){this.mask.dataset.uuid=this.mask.dataset.uuid.replace(new RegExp(","+this.uuid,"g"),""),this.mask.dataset.uuid?this.hide():(this.mask.removeEventListener("click",this.onClickMask.bind(this),!1),this.mask&&this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask)),this.container.removeEventListener("webkitTransitionEnd",this.containerHandler),this.container.removeEventListener("transitionend",this.containerHandler),l&&delete window.__$vuxPopups[this.uuid]};var d=h,c=o("UOZN"),v=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var t=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var n=t;t.popup=new d({showMask:n.showMask,container:n.$el,hideOnBlur:n.hideOnBlur,onOpen:function(){n.fixSafariOverflowScrolling("auto"),n.show=!0},onClose:function(){n.show=!1,window.__$vuxPopups&&s()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){n.fixSafariOverflowScrolling("touch")},300)}}),t.value&&t.popup.show(),t.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var n=0;n<this.$overflowScrollingList.length;n++)this.$overflowScrollingList[n].style.webkitOverflowScrolling=t},removeModalClassName:function(){"VIEW_BOX"===this.layout&&c.a.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&c.a.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var t=this;this.$nextTick(function(){t.$el.scrollTop=0;var n=t.$el.querySelectorAll(".vux-scrollable");if(n.length)for(var o=0;o<n.length;o++)n[o].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var t={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?t.width=this.width:t.height=this.height,this.maxHeight&&(t["max-height"]=this.maxHeight),this.isTransparent&&(t.background="transparent"),this.popupStyle)for(var n in this.popupStyle)t[n]=this.popupStyle[n];return t}},watch:{value:function(t){this.show=t},show:function(t){var n=this;this.$emit("input",t),t?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){n.scrollTop(),n.shouldRenderBody=!0,n.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||n.fixSafariOverflowScrolling("touch"),n.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),m=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("transition",{attrs:{name:"vux-popup-animate-"+t.position}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show&&!t.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+t.position,t.show?"vux-popup-show":""],style:t.styles},[t.shouldRenderBody?t._t("default"):t._e()],2)])},f=[];m._withStripped=!0;var w=o("18Nq"),g=!1,x=e,k=Object(w.a)(v,m,f,!1,x,null,null);k.options.__file="node_modules\\_vux@2.9.0@vux\\src\\components\\popup\\index.vue";var S=k.exports,b=o("YP5q"),y=(b.a,{name:"backFn",components:{Popup:S,XDialog:b.a},data:function(){return{popupState:!1,dialogState:!1}},methods:{showPopup:function(){this.popupState=!0},hidePopup:function(){this.popupState=!1},showDialog:function(){this.dialogState=!0},hideDialog:function(){this.dialogState=!1}}}),_=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"backFn",attrs:{id:"backFn"}},[o("div",{on:{click:t.showPopup}},[t._v("点击显示popup")]),t._v(" "),o("hr"),t._v(" "),t._m(0),t._v(" "),o("popup",{directives:[{name:"backFn",rawName:"v-backFn",value:{show:t.popupState,closeFn:"hidePopup"},expression:"{'show':popupState,'closeFn':'hidePopup'}"}],attrs:{position:"top"},model:{value:t.popupState,callback:function(n){t.popupState=n},expression:"popupState"}},[o("span",[t._v("\n      此时触发浏览器后退，弹框将会被关闭。\n    ")]),t._v(" "),o("span",{staticStyle:{color:"red"},on:{click:t.showDialog}},[t._v("当然你可以点击我，再打出一个弹框。")])]),t._v(" "),o("x-dialog",{directives:[{name:"backFn",rawName:"v-backFn",value:{show:t.dialogState,closeFn:"hideDialog"},expression:"{'show':dialogState,'closeFn':'hideDialog'}"}],model:{value:t.dialogState,callback:function(n){t.dialogState=n},expression:"dialogState"}},[o("div",[o("div",{staticStyle:{color:"red"},on:{click:t.hideDialog}},[t._v("点击我关闭当前弹框")]),t._v(" "),o("div",[t._v("或试试返回键 😄")])])])],1)},O=[function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",[t._v("\n    触发返回事件的指令使用如下：\n    "),o("pre",[t._v("    使用 v-backFn指令\n    {\n      show:控制显示隐藏的data属性,\n      :Object,\n      closeFn:关闭方法字符串,:String\n    }\n    ")])])}];_._withStripped=!0;var B=!1,$=i,C=Object(w.a)(y,_,O,!1,$,null,null);C.options.__file="src\\views\\Demo\\BackFn\\Index.vue";n.default=C.exports},pbal:function(t,n){var o=!1;try{var e=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,e)}catch(t){}t.exports=o},"uzw/":function(t,n,o){n=t.exports=o("UTlt")(!1),n.i(o("u8HG"),""),n.push([t.i,"/**\n* actionsheet\n*/\n/**\n* datetime\n*/\n/**\n* tabbar\n*/\n/**\n* tab\n*/\n/**\n* dialog\n*/\n/**\n* en: title and content's padding-left and padding-right\n* zh-CN: 标题及内容区域的 padding-left 和 padding-right\n*/\n/**\n* x-number\n*/\n/**\n* checkbox\n*/\n/**\n* check-icon\n*/\n/**\n* Cell\n*/\n/**\n* Mask\n*/\n/**\n* Range\n*/\n/**\n* Tabbar\n*/\n/**\n* Header\n*/\n/**\n* Timeline\n*/\n/**\n* Switch\n*/\n/**\n* Button\n*/\n/**\n* en: margin-top value between previous button, not works when there is only one button\n* zh-CN: 与相邻按钮的 margin-top 间隙，只有一个按钮时不生效\n*/\n/**\n* swipeout\n*/\n/**\n* Cell\n*/\n/**\n* Badge\n*/\n/**\n* Popover\n*/\n/**\n* Button tab\n*/\n/* alias */\n/**\n* Swiper\n*/\n/**\n* checklist\n*/\n/**\n* popup-picker\n*/\n/**\n* popup\n*/\n/**\n* popup-header\n*/\n/**\n* form-preview\n*/\n/**\n* sticky\n*/\n/**\n* group\n*/\n/**\n* toast\n*/\n/**\n* icon\n*/\n/**\n* calendar\n*/\n/**\n* week-calendar\n*/\n/**\n* search\n*/\n/**\n* radio\n*/\n/**\n* loadmore\n*/\n/**\n* loading\n*/\n.vux-popup-dialog {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background: #eee;\n  z-index: 501;\n  -webkit-transition-property: -webkit-transform;\n  transition-property: -webkit-transform;\n  transition-property: transform;\n  transition-property: transform, -webkit-transform;\n  -webkit-transition-duration: 300ms;\n          transition-duration: 300ms;\n  max-height: 100%;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.vux-popup-dialog.vux-popup-left {\n  width: auto;\n  height: 100%;\n  top: 0;\n  right: auto;\n  bottom: auto;\n  left: 0;\n}\n.vux-popup-dialog.vux-popup-right {\n  width: auto;\n  height: 100%;\n  top: 0;\n  right: 0;\n  bottom: auto;\n  left: auto;\n}\n.vux-popup-dialog.vux-popup-top {\n  width: 100%;\n  top: 0;\n  right: auto;\n  bottom: auto;\n  left: 0;\n}\n.vux-popup-mask {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  z-index: -1;\n  -webkit-transition: opacity 400ms;\n  transition: opacity 400ms;\n}\n.vux-popup-mask.vux-popup-show {\n  opacity: 1;\n}\n.vux-popup-animate-bottom-enter,\n.vux-popup-animate-bottom-leave-active {\n  -webkit-transform: translate3d(0, 100%, 0);\n          transform: translate3d(0, 100%, 0);\n}\n.vux-popup-animate-left-enter,\n.vux-popup-animate-left-leave-active {\n  -webkit-transform: translate3d(-100%, 0, 0);\n          transform: translate3d(-100%, 0, 0);\n}\n.vux-popup-animate-right-enter,\n.vux-popup-animate-right-leave-active {\n  -webkit-transform: translate3d(100%, 0, 0);\n          transform: translate3d(100%, 0, 0);\n}\n.vux-popup-animate-top-enter,\n.vux-popup-animate-top-leave-active {\n  -webkit-transform: translate3d(0, -100%, 0);\n          transform: translate3d(0, -100%, 0);\n}\n",""])},vcha:function(t,n,o){n=t.exports=o("UTlt")(!1),n.push([t.i,"",""])},wl2m:function(t,n,o){var e=o("uzw/");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=o("urRS").default;i("384af36d",e,!1,{})}});